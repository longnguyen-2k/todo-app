{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\todo-app\\\\Todo-FE\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _objectSpread from\"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\todo-app\\\\Todo-FE\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _asyncToGenerator from\"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\todo-app\\\\Todo-FE\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\todo-app\\\\Todo-FE\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\todo-app\\\\Todo-FE\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import\"./App.css\";import\"bootstrap/dist/css/bootstrap.css\";import{useEffect,useState,React,useRef}from\"react\";import{getOneTodo,getTodos,addTodo,updateTodo,removeOneTodo,removeAllTodo}from\"./services.js\";import Stack from\"@mui/material/Stack\";import Button from\"@mui/material/Button\";import Snackbar from\"@mui/material/Snackbar\";import{Alert}from\"./components/alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),addStatus=_useState6[0],setAddStautus=_useState6[1];var _useState7=useState({\"content\":\"\"}),_useState8=_slicedToArray(_useState7,2),currentTodo=_useState8[0],setCurrentTodo=_useState8[1];var _useState9=useState('des'),_useState10=_slicedToArray(_useState9,2),sort=_useState10[0],setSort=_useState10[1];var loadData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var sort,callTodos,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:sort=_args.length>0&&_args[0]!==undefined?_args[0]:'des';_context.next=3;return getTodos(sort);case 3:callTodos=_context.sent;if(callTodos){_context.next=6;break;}return _context.abrupt(\"return\");case 6:setTodos(callTodos);case 7:case\"end\":return _context.stop();}}},_callee);}));return function loadData(){return _ref.apply(this,arguments);};}();var handleContent=function handleContent(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setCurrentTodo(function(preState){return _objectSpread(_objectSpread({},preState),{},_defineProperty({},name,value));});};useEffect(function(){loadData();},[]);var addNew=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setCurrentTodo({\"content\":\"\"});_context2.next=3;return addOrUpdate();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function addNew(){return _ref2.apply(this,arguments);};}();var addOrUpdate=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var todo,status;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:status=true;if(!currentTodo.id){_context3.next=9;break;}_context3.next=4;return updateTodo(currentTodo.id,currentTodo);case 4:todo=_context3.sent;if(!todo)status=false;if(todo){setCurrentTodo(todo);loadData();}_context3.next=15;break;case 9:_context3.next=11;return addTodo(currentTodo);case 11:todo=_context3.sent;if(!todo)status=false;if(todo){setCurrentTodo(todo);loadData();};case 15:setOpen(true);setAddStautus(status);case 17:case\"end\":return _context3.stop();}}},_callee3);}));return function addOrUpdate(){return _ref3.apply(this,arguments);};}();var onKeyPress=function onKeyPress(e){if(e.key=='Enter'){addOrUpdate();}};var handleClose=function handleClose(event,reason){if(reason===\"clickaway\"){return;}setOpen(false);};var handleDeleteOne=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return removeOneTodo(id);case 2:loadData();case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function handleDeleteOne(_x){return _ref4.apply(this,arguments);};}();var clear=function clear(){setCurrentTodo({\"content\":\"\"});};var edit=function edit(todo){setCurrentTodo(todo);};var deleteAll=function deleteAll(){var status=true;var deletes=removeAllTodo();if(!deletes)status=false;setOpen(true);setAddStautus(status);loadData();};var sorting=function sorting(){if(sort===\"asc\"){setSort('des');}else setSort('asc');loadData(sort);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\" Work To-dos \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-6 mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"New Item\",\"aria-describedby\":\"basic-addon1\",name:\"content\",value:currentTodo.content,onKeyPress:onKeyPress,onChange:handleContent}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:clear,children:\"\\xD7\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:sorting,children:\"Sorting\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",className:\"btn btn-danger\",onClick:deleteAll,children:\"Delete all\"})]}),/*#__PURE__*/_jsxs(Stack,{spacing:2,sx:{width:\"100%\"},children:[/*#__PURE__*/_jsx(Snackbar,{open:open,autoHideDuration:6000,onClose:handleClose,children:addStatus?/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},children:\"Success\"}):/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",sx:{width:\"100%\"},children:\"Fail\"})}),todos.map(function(todo,index){return/*#__PURE__*/_jsx(Alert,{severity:\"info\",onClose:function onClose(){handleDeleteOne(todo.id);},icon:false,onClick:function onClick(){edit(todo);},children:todo.content},index);})]})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/longn/OneDrive/Desktop/todo-app/Todo-FE/src/App.js"],"names":["useEffect","useState","React","useRef","getOneTodo","getTodos","addTodo","updateTodo","removeOneTodo","removeAllTodo","Stack","Button","Snackbar","Alert","App","todos","setTodos","open","setOpen","addStatus","setAddStautus","currentTodo","setCurrentTodo","sort","setSort","loadData","callTodos","handleContent","event","target","value","name","preState","addNew","addOrUpdate","status","id","todo","onKeyPress","e","key","handleClose","reason","handleDeleteOne","clear","edit","deleteAll","deletes","sorting","content","width","map","index"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useEffect, useState, React, useRef } from \"react\";\nimport { getOneTodo, getTodos,addTodo, updateTodo, removeOneTodo, removeAllTodo } from \"./services.js\";\nimport Stack from \"@mui/material/Stack\";\nimport Button from \"@mui/material/Button\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { Alert } from \"./components/alert\";\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [addStatus, setAddStautus] = useState(true);\n  const [currentTodo, setCurrentTodo] = useState({\"content\":\"\"});\n  const [sort,setSort]=useState('des');\n  const loadData = async (sort='des') => {\n    const callTodos = await getTodos(sort);\n    if (!callTodos) return;\n    setTodos(callTodos);\n  };\n  const handleContent = (event)=>{\n    const {value,name}= event.target;\n    setCurrentTodo(preState=>{return {...preState,[name]:value}})\n\n  }\n  useEffect(() => {\n    loadData();\n  }, []);\n  const addNew= async()=>{\n    setCurrentTodo({\"content\":\"\"})\n    await addOrUpdate()\n  }\n  const addOrUpdate = async () => {\n    let todo;\n    let status= true;\n    if(currentTodo.id){ \n      todo = await updateTodo(currentTodo.id,currentTodo);\n      if(!todo) status= false;\n      if (todo){ \n        setCurrentTodo(todo);\n        loadData()\n      }\n    }\n    else {\n      todo = await addTodo(currentTodo);\n      if(!todo) status= false; \n      if (todo){ setCurrentTodo(todo);  loadData() };\n    }\n    \n    setOpen(true);\n    setAddStautus(status);\n  };\n  const onKeyPress = (e)=>{\n    if(e.key == 'Enter'){ addOrUpdate()} \n  }\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n  const handleDeleteOne=async(id)=>{\n    await removeOneTodo(id)\n    loadData()\n  }\n  const clear = () =>{ \n    setCurrentTodo({\"content\":\"\"})\n\n  }\n  const edit=(todo)=>{\n    setCurrentTodo(todo);\n  }\n  const deleteAll=()=>{\n    let status= true;\n    const deletes = removeAllTodo();\n    if(!deletes) status =false\n    setOpen(true);\n    setAddStautus(status);\n    loadData()\n\n  }\n  const sorting=()=>{\n      if(sort===\"asc\"){\n        setSort('des')\n      }\n      else setSort('asc')\n      loadData(sort)\n\n  }\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1> Work To-dos </h1>\n      </header>\n      <div className=\"container\">\n        <div className=\"input-group col-6 mb-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"New Item\"\n            aria-describedby=\"basic-addon1\"\n            name=\"content\"\n            value={currentTodo.content}\n            onKeyPress={onKeyPress}\n            onChange={handleContent}\n          />\n          <Button variant=\"outlined\" onClick={clear}>\n              &times;\n          </Button>\n          <Button variant=\"outlined\" onClick={sorting}>\n              Sorting\n          </Button>\n          <Button variant=\"outlined\" className=\"btn btn-danger\" onClick={deleteAll}>\n             Delete all\n          </Button>          \n        </div>\n        <Stack spacing={2} sx={{ width: \"100%\" }}>\n            <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n             {addStatus? <Alert\n                onClose={handleClose}\n                severity=\"success\"\n                sx={{ width: \"100%\" }}\n              >\n                Success\n              </Alert>:\n              <Alert\n              onClose={handleClose}\n              severity=\"error\"\n              sx={{ width: \"100%\" }}\n            >\n              Fail\n            </Alert>\n              }\n            </Snackbar>\n            {todos.map((todo,index) => {\n              return <Alert key={index} severity=\"info\" onClose={() => {handleDeleteOne(todo.id)}} icon={false} onClick={()=>{edit(todo)}} >{todo.content}</Alert>;\n            })}\n          </Stack>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}