{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\longn\\\\OneDrive\\\\Desktop\\\\Todo-FE\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useEffect, useState, React, useRef } from \"react\";\nimport { getOneTodo, getTodos, addTodo, updateTodo, removeOneTodo, removeAllTodo } from \"./services.js\";\nimport Stack from \"@mui/material/Stack\";\nimport Button from \"@mui/material/Button\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { Alert } from \"./components/alert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [addStatus, setAddStautus] = useState(true);\n  const [currentTodo, setCurrentTodo] = useState({\n    \"content\": \"\"\n  });\n  const [sort, setSort] = useState('des');\n\n  const loadData = async function () {\n    let sort = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'des';\n    const callTodos = await getTodos();\n    if (!callTodos) return;\n    setTodos(callTodos);\n  };\n\n  const handleContent = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    setCurrentTodo(preState => {\n      return { ...preState,\n        [name]: value\n      };\n    });\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const addNew = async () => {\n    setCurrentTodo({\n      \"content\": \"\"\n    });\n    await addOrUpdate();\n  };\n\n  const addOrUpdate = async () => {\n    let todo;\n    let status = true;\n\n    if (currentTodo.id) {\n      todo = await updateTodo(currentTodo.id, currentTodo);\n      if (!todo) status = false;\n\n      if (todo) {\n        setCurrentTodo(todo);\n        loadData();\n      }\n    } else {\n      todo = await addTodo(currentTodo);\n      if (!todo) status = false;\n\n      if (todo) {\n        setCurrentTodo(todo);\n        loadData();\n      }\n\n      ;\n    }\n\n    setOpen(true);\n    setAddStautus(status);\n  };\n\n  const onKeyPress = e => {\n    if (e.key == 'Enter') {\n      addOrUpdate();\n    }\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const handleDeleteOne = async id => {\n    await removeOneTodo(id);\n    loadData();\n  };\n\n  const clear = () => {\n    setCurrentTodo({\n      \"content\": \"\"\n    });\n  };\n\n  const deleteAll = () => {\n    let status = true;\n    const deletes = removeAllTodo();\n    if (!deletes) status = false;\n    setOpen(true);\n    setAddStautus(status);\n    loadData();\n  };\n\n  const sorting = () => {\n    if (sort === 'asc') {\n      return setSort('des');\n    } else setSort('asc');\n\n    loadData(sort);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Work To-dos \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group col-6 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"New Item\",\n          \"aria-describedby\": \"basic-addon1\",\n          name: \"content\",\n          value: currentTodo.content,\n          onKeyPress: onKeyPress,\n          onChange: handleContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: clear,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: sorting,\n          children: \"Sorting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          className: \"btn btn-danger\",\n          onClick: deleteAll,\n          children: \"Delete all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 2,\n        sx: {\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n          open: open,\n          autoHideDuration: 6000,\n          onClose: handleClose,\n          children: addStatus ? /*#__PURE__*/_jsxDEV(Alert, {\n            onClose: handleClose,\n            severity: \"success\",\n            sx: {\n              width: \"100%\"\n            },\n            children: \"Success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            onClose: handleClose,\n            severity: \"error\",\n            sx: {\n              width: \"100%\"\n            },\n            children: \"Fail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), todos.map((todo, index) => {\n          return /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"info\",\n            onClose: () => {\n              handleDeleteOne(todo.id);\n            },\n            icon: false,\n            children: todo.content\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 22\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"7XENzpwqM6oQ7xNhW+g416/YnqM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/longn/OneDrive/Desktop/Todo-FE/src/App.js"],"names":["useEffect","useState","React","useRef","getOneTodo","getTodos","addTodo","updateTodo","removeOneTodo","removeAllTodo","Stack","Button","Snackbar","Alert","App","todos","setTodos","open","setOpen","addStatus","setAddStautus","currentTodo","setCurrentTodo","sort","setSort","loadData","callTodos","handleContent","event","value","name","target","preState","addNew","addOrUpdate","todo","status","id","onKeyPress","e","key","handleClose","reason","handleDeleteOne","clear","deleteAll","deletes","sorting","content","width","map","index"],"mappings":";;;AAAA,OAAO,WAAP;AACA,OAAO,kCAAP;AACA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,KAA9B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,UAAT,EAAqBC,QAArB,EAA8BC,OAA9B,EAAuCC,UAAvC,EAAmDC,aAAnD,EAAkEC,aAAlE,QAAuF,eAAvF;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,KAAT,QAAsB,oBAAtB;;;AACA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACkB,SAAD,EAAYC,aAAZ,IAA6BnB,QAAQ,CAAC,IAAD,CAA3C;AACA,QAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,CAAC;AAAC,eAAU;AAAX,GAAD,CAA9C;AACA,QAAM,CAACsB,IAAD,EAAMC,OAAN,IAAevB,QAAQ,CAAC,KAAD,CAA7B;;AACA,QAAMwB,QAAQ,GAAG,kBAAsB;AAAA,QAAfF,IAAe,uEAAV,KAAU;AACrC,UAAMG,SAAS,GAAG,MAAMrB,QAAQ,EAAhC;AACA,QAAI,CAACqB,SAAL,EAAgB;AAChBV,IAAAA,QAAQ,CAACU,SAAD,CAAR;AACD,GAJD;;AAKA,QAAMC,aAAa,GAAIC,KAAD,IAAS;AAC7B,UAAM;AAACC,MAAAA,KAAD;AAAOC,MAAAA;AAAP,QAAcF,KAAK,CAACG,MAA1B;AACAT,IAAAA,cAAc,CAACU,QAAQ,IAAE;AAAC,aAAO,EAAC,GAAGA,QAAJ;AAAa,SAACF,IAAD,GAAOD;AAApB,OAAP;AAAkC,KAA9C,CAAd;AAED,GAJD;;AAKA7B,EAAAA,SAAS,CAAC,MAAM;AACdyB,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;;AAGA,QAAMQ,MAAM,GAAE,YAAS;AACrBX,IAAAA,cAAc,CAAC;AAAC,iBAAU;AAAX,KAAD,CAAd;AACA,UAAMY,WAAW,EAAjB;AACD,GAHD;;AAIA,QAAMA,WAAW,GAAG,YAAY;AAC9B,QAAIC,IAAJ;AACA,QAAIC,MAAM,GAAE,IAAZ;;AACA,QAAGf,WAAW,CAACgB,EAAf,EAAkB;AAChBF,MAAAA,IAAI,GAAG,MAAM5B,UAAU,CAACc,WAAW,CAACgB,EAAb,EAAgBhB,WAAhB,CAAvB;AACA,UAAG,CAACc,IAAJ,EAAUC,MAAM,GAAE,KAAR;;AACV,UAAID,IAAJ,EAAS;AACPb,QAAAA,cAAc,CAACa,IAAD,CAAd;AACAV,QAAAA,QAAQ;AACT;AACF,KAPD,MAQK;AACHU,MAAAA,IAAI,GAAG,MAAM7B,OAAO,CAACe,WAAD,CAApB;AACA,UAAG,CAACc,IAAJ,EAAUC,MAAM,GAAE,KAAR;;AACV,UAAID,IAAJ,EAAS;AAAEb,QAAAA,cAAc,CAACa,IAAD,CAAd;AAAuBV,QAAAA,QAAQ;AAAI;;AAAA;AAC/C;;AAEDP,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,aAAa,CAACgB,MAAD,CAAb;AACD,GAnBD;;AAoBA,QAAME,UAAU,GAAIC,CAAD,IAAK;AACtB,QAAGA,CAAC,CAACC,GAAF,IAAS,OAAZ,EAAoB;AAAEN,MAAAA,WAAW;AAAG;AACrC,GAFD;;AAGA,QAAMO,WAAW,GAAG,CAACb,KAAD,EAAQc,MAAR,KAAmB;AACrC,QAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1B;AACD;;AAEDxB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAND;;AAOA,QAAMyB,eAAe,GAAC,MAAMN,EAAN,IAAW;AAC/B,UAAM7B,aAAa,CAAC6B,EAAD,CAAnB;AACAZ,IAAAA,QAAQ;AACT,GAHD;;AAIA,QAAMmB,KAAK,GAAG,MAAK;AACjBtB,IAAAA,cAAc,CAAC;AAAC,iBAAU;AAAX,KAAD,CAAd;AAED,GAHD;;AAIA,QAAMuB,SAAS,GAAC,MAAI;AAClB,QAAIT,MAAM,GAAE,IAAZ;AACA,UAAMU,OAAO,GAAGrC,aAAa,EAA7B;AACA,QAAG,CAACqC,OAAJ,EAAaV,MAAM,GAAE,KAAR;AACblB,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,aAAa,CAACgB,MAAD,CAAb;AACAX,IAAAA,QAAQ;AAET,GARD;;AASA,QAAMsB,OAAO,GAAC,MAAI;AACd,QAAGxB,IAAI,KAAG,KAAV,EAAgB;AACf,aAAOC,OAAO,CAAC,KAAD,CAAd;AACA,KAFD,MAGKA,OAAO,CAAC,KAAD,CAAP;;AACLC,IAAAA,QAAQ,CAACF,IAAD,CAAR;AAEH,GAPD;;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,SAAS,EAAC,cAFZ;AAGE,UAAA,WAAW,EAAC,UAHd;AAIE,8BAAiB,cAJnB;AAKE,UAAA,IAAI,EAAC,SALP;AAME,UAAA,KAAK,EAAEF,WAAW,CAAC2B,OANrB;AAOE,UAAA,UAAU,EAAEV,UAPd;AAQE,UAAA,QAAQ,EAAEX;AARZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,UAAhB;AAA2B,UAAA,OAAO,EAAEiB,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAcE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,UAAhB;AAA2B,UAAA,OAAO,EAAEG,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF,eAiBE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,UAAhB;AAA2B,UAAA,SAAS,EAAC,gBAArC;AAAsD,UAAA,OAAO,EAAEF,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAsBE,QAAC,KAAD;AAAO,QAAA,OAAO,EAAE,CAAhB;AAAmB,QAAA,EAAE,EAAE;AAAEI,UAAAA,KAAK,EAAE;AAAT,SAAvB;AAAA,gCACI,QAAC,QAAD;AAAU,UAAA,IAAI,EAAEhC,IAAhB;AAAsB,UAAA,gBAAgB,EAAE,IAAxC;AAA8C,UAAA,OAAO,EAAEwB,WAAvD;AAAA,oBACEtB,SAAS,gBAAE,QAAC,KAAD;AACT,YAAA,OAAO,EAAEsB,WADA;AAET,YAAA,QAAQ,EAAC,SAFA;AAGT,YAAA,EAAE,EAAE;AAAEQ,cAAAA,KAAK,EAAE;AAAT,aAHK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAF,gBAOT,QAAC,KAAD;AACA,YAAA,OAAO,EAAER,WADT;AAEA,YAAA,QAAQ,EAAC,OAFT;AAGA,YAAA,EAAE,EAAE;AAAEQ,cAAAA,KAAK,EAAE;AAAT,aAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,gBADJ,EAkBKlC,KAAK,CAACmC,GAAN,CAAU,CAACf,IAAD,EAAMgB,KAAN,KAAgB;AACzB,8BAAO,QAAC,KAAD;AAAmB,YAAA,QAAQ,EAAC,MAA5B;AAAmC,YAAA,OAAO,EAAE,MAAM;AAACR,cAAAA,eAAe,CAACR,IAAI,CAACE,EAAN,CAAf;AAAyB,aAA5E;AAA8E,YAAA,IAAI,EAAE,KAApF;AAAA,sBAA6FF,IAAI,CAACa;AAAlG,aAAYG,KAAZ;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD,SAFA,CAlBL;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoDD;;GAlIQrC,G;;KAAAA,G;AAoIT,eAAeA,GAAf","sourcesContent":["import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { useEffect, useState, React, useRef } from \"react\";\nimport { getOneTodo, getTodos,addTodo, updateTodo, removeOneTodo, removeAllTodo } from \"./services.js\";\nimport Stack from \"@mui/material/Stack\";\nimport Button from \"@mui/material/Button\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { Alert } from \"./components/alert\";\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [addStatus, setAddStautus] = useState(true);\n  const [currentTodo, setCurrentTodo] = useState({\"content\":\"\"});\n  const [sort,setSort]=useState('des');\n  const loadData = async (sort='des') => {\n    const callTodos = await getTodos();\n    if (!callTodos) return;\n    setTodos(callTodos);\n  };\n  const handleContent = (event)=>{\n    const {value,name}= event.target;\n    setCurrentTodo(preState=>{return {...preState,[name]:value}})\n\n  }\n  useEffect(() => {\n    loadData();\n  }, []);\n  const addNew= async()=>{\n    setCurrentTodo({\"content\":\"\"})\n    await addOrUpdate()\n  }\n  const addOrUpdate = async () => {\n    let todo;\n    let status= true;\n    if(currentTodo.id){ \n      todo = await updateTodo(currentTodo.id,currentTodo);\n      if(!todo) status= false;\n      if (todo){ \n        setCurrentTodo(todo);\n        loadData()\n      }\n    }\n    else {\n      todo = await addTodo(currentTodo);\n      if(!todo) status= false; \n      if (todo){ setCurrentTodo(todo);  loadData() };\n    }\n    \n    setOpen(true);\n    setAddStautus(status);\n  };\n  const onKeyPress = (e)=>{\n    if(e.key == 'Enter'){ addOrUpdate()} \n  }\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n  const handleDeleteOne=async(id)=>{\n    await removeOneTodo(id)\n    loadData()\n  }\n  const clear = () =>{ \n    setCurrentTodo({\"content\":\"\"})\n\n  }\n  const deleteAll=()=>{\n    let status= true;\n    const deletes = removeAllTodo();\n    if(!deletes) status =false\n    setOpen(true);\n    setAddStautus(status);\n    loadData()\n\n  }\n  const sorting=()=>{\n      if(sort==='asc'){\n       return setSort('des')\n      }\n      else setSort('asc')\n      loadData(sort)\n\n  }\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1> Work To-dos </h1>\n      </header>\n      <div className=\"container\">\n        <div className=\"input-group col-6 mb-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"New Item\"\n            aria-describedby=\"basic-addon1\"\n            name=\"content\"\n            value={currentTodo.content}\n            onKeyPress={onKeyPress}\n            onChange={handleContent}\n          />\n          <Button variant=\"outlined\" onClick={clear}>\n              &times;\n          </Button>\n          <Button variant=\"outlined\" onClick={sorting}>\n              Sorting\n          </Button>\n          <Button variant=\"outlined\" className=\"btn btn-danger\" onClick={deleteAll}>\n             Delete all\n          </Button>          \n        </div>\n        <Stack spacing={2} sx={{ width: \"100%\" }}>\n            <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n             {addStatus? <Alert\n                onClose={handleClose}\n                severity=\"success\"\n                sx={{ width: \"100%\" }}\n              >\n                Success\n              </Alert>:\n              <Alert\n              onClose={handleClose}\n              severity=\"error\"\n              sx={{ width: \"100%\" }}\n            >\n              Fail\n            </Alert>\n              }\n            </Snackbar>\n            {todos.map((todo,index) => {\n              return <Alert key={index} severity=\"info\" onClose={() => {handleDeleteOne(todo.id)}} icon={false} >{todo.content}</Alert>;\n            })}\n          </Stack>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}